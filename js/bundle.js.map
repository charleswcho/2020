{"version":3,"sources":["webpack/bootstrap 191284fe13f5805ad790","./js/main.js","./js/lib/view.js","./js/lib/game.js","./js/lib/board.js","./js/lib/moveError.js","./js/lib/tray.js","./js/lib/shape.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACPD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uBAAsB,aAAa;AACnC,yBAAwB,aAAa;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,YAAW;;AAEX;;AAEA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;;AAEL;AACA;AACA,IAAG;AACH,gBAAe;AACf,IAAG;AACH;;AAEA;;;;;;;AC9GA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;;;;;;ACtBA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAiB,QAAQ;AACzB;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,uBAAsB,YAAY;AAClC,yBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;;;;;;ACzDA;AACA;AACA;;AAEA;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;;;;;;ACzBA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 191284fe13f5805ad790\n **/","var View = require('./lib/view');\nvar Game = require('./lib/game');\n\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\n  var rootEl = $('.2020');\n  var game = new Game();\n  window.view = new View(game, rootEl);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var View = function (game, $el) {\n  this.game = game;\n  this.$el = $el;\n\n  this.setupBoard();\n  this.setupPieceTray();\n  this.$el.on(\"click\", \"li\", (function (e) {\n    console.log($(e.currentTarget).data('pos'));\n    console.log($(e.currentTarget).data('color'));\n  }).bind(this));\n};\n\nView.prototype.makeMove = function ($square) {\n  var pos = $square.data(\"pos\");\n  var currentPlayer = this.game.currentPlayer;\n\n  try {\n    this.game.playMove(pos);\n  } catch (e) {\n    alert(\"Invalid move! Try again.\");\n    return;\n  }\n};\n\nView.prototype.validMove = function (startPos) {\n  var shape = this.game.tray.shape;\n  var coords = shape.coords;\n  console.log(coords);\n  var transformedCoords = coords.map(function (pos) {\n    return [startPos[0]+pos[0], startPos[1]+pos[1]];\n  });\n  console.log(transformedCoords);\n};\n\nView.prototype.setupBoard = function () {\n  var self = this;\n  var $ul = $(\"<ul>\");\n  $ul.addClass(\"group\");\n\n  for (var rowIdx = 0; rowIdx < 10; rowIdx++) {\n    for (var colIdx = 0; colIdx < 10; colIdx++) {\n      var $li = $(\"<li>\");\n      $li.data(\"pos\", [rowIdx, colIdx]);\n      $li.droppable({\n        tolerance: 'pointer',\n        drop: function (e, ui) {\n          debugger;\n          if (self.validMove($(this).data('pos'))) {\n\n\n          } else {\n\n          }\n\n          $(this).css(\"background\", $(ui.draggable[0]).data('color'));\n          self.game.playMove();\n          self.setupPieceTray();\n        },\n      });\n      $ul.append($li);\n    }\n  }\n\n  this.$el.append($ul);\n};\n\nView.prototype.setupPieceTray = function () {\n  $('.tray').remove();\n  var tray = this.game.tray;\n  var $ul = $(\"<ul>\");\n  $ul.addClass(\"tray\");\n\n  tray.grid.forEach(function (row, rowIdx) {\n    row.forEach(function (col, colIdx) {\n      var $li = $(\"<li>\");\n      if (col !== null) {\n        $li.data(\"color\", col);\n        $li.addClass(\"piece\");\n        $li.css('background', col);\n      }\n\n      $li.data(\"pos\", [rowIdx, colIdx]);\n      $ul.append($li);\n    });\n  });\n\n  this.$el.append($ul);\n  this.addDraggableListener();\n};\n\nView.prototype.addDraggableListener = function () {\n  $('.tray > li.piece').draggable({\n    cursor: 'pointer',\n    revert: false,\n    helper: function(e) {\n      var helperList = $('<ul class=\"draggable-helper\">');\n      helperList.append($('.tray > li').clone());\n      return helperList;\n    },\n    drag: function (e, ui) {\n      $('.tray > li.piece').css('visibility', 'hidden');\n    },\n\n    stop: function(e, ui) {\n      $('.tray > li.piece').css('visibility', 'visible');\n\t\t},\n    cursorAt: { top: 40 }\n  });\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/lib/view.js\n ** module id = 1\n ** module chunks = 0\n **/","var Board = require(\"./board\");\nvar Tray = require(\"./tray\");\nvar MoveError = require(\"./moveError\");\n\nfunction Game () {\n  this.board = new Board();\n  this.tray = new Tray();\n}\n\nGame.prototype.isOver = function () {\n  return this.board.isOver();\n};\n\nGame.prototype.playMove = function () {\n  this.tray = new Tray();\n};\n\nGame.prototype.run = function (gameCompletionCallback) {\n\n};\n\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/lib/game.js\n ** module id = 2\n ** module chunks = 0\n **/","var MoveError = require(\"./moveError\");\n\nfunction Board () {\n  this.grid = Board.makeGrid();\n}\n\nBoard.isValidPos = function (pos) {\n  return (\n    (0 <= pos[0]) && (pos[0] < 10) && (0 <= pos[1]) && (pos[1] < 10)\n  );\n};\n\nBoard.makeGrid = function () {\n  var grid = [];\n\n  for (var i = 0; i < 10; i++) {\n    grid.push([]);\n    for (var j = 0; j < 10; j++) {\n      grid[i].push(null);\n    }\n  }\n\n  return grid;\n};\n\n\nBoard.prototype.placeMark = function (pos, mark) {\n  if (!this.isEmptyPos(pos)) {\n    throw new MoveError(\"Is not an empty position!\");\n  }\n\n  this.grid[pos[0]][pos[1]] = mark;\n};\n\n\nBoard.prototype.isEmptyPos = function (pos) {\n  if (!Board.isValidPos(pos)) {\n    throw new MoveError(\"Is not valid position!\");\n  }\n\n  return (this.grid[pos[0]][pos[1]] === null);\n};\n\nBoard.prototype.isOver = function () {\n\n  for (var rowIdx = 0; rowIdx < 3; rowIdx++) {\n    for (var colIdx = 0; colIdx < 3; colIdx++) {\n      if (this.isEmptyPos([rowIdx, colIdx])) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n};\n\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/lib/board.js\n ** module id = 3\n ** module chunks = 0\n **/","function MoveError (msg) {\n  this.msg = msg;\n}\n\nmodule.exports = MoveError;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/lib/moveError.js\n ** module id = 4\n ** module chunks = 0\n **/","var Shape = require('./shape');\n\nfunction Tray () {\n  this.grid = Tray.makeGrid();\n  this.shape = new Shape();\n  this.placePiece(this.shape);\n}\n\nTray.makeGrid = function () {\n  var grid = [];\n  for (var i = 0; i < 5; i++) {\n    grid.push([]);\n    for (var j = 0; j < 5; j++) {\n      grid[i].push(null);\n    }\n  }\n  return grid;\n};\n\nTray.prototype.placePiece = function (shape) {\n  shape.coords.forEach(function (pos) {\n    this.grid[pos[0]][pos[1]] = shape.color;\n  }.bind(this));\n};\n\nmodule.exports = Tray;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/lib/tray.js\n ** module id = 5\n ** module chunks = 0\n **/","Array.prototype.random = function () {\n  return this[Math.floor(Math.random() * this.length)];\n}\n\nvar SHAPES = ['dot', 'sSquare', 'lSquare',\n  'horizontal2', 'horizontal3', 'horizontal4', 'horizontal5',\n  'vertical2', 'vertical3', 'vertical4', 'vertical5'\n];\n\nvar COLORS = ['green', 'lightblue', 'blue', 'purple', 'red', 'yellow', 'lightgreen'];\n\nfunction Shape () {\n\tthis.type = SHAPES.random();\n\tthis.color = COLORS.random();\n\tthis.render();\n};\n\nShape.prototype.render = function() {\n  switch (this.type) {\n    case 'dot':\n      this.coords = [[0,0]];\n      break;\n    case 'sSquare':\n      this.coords = [[0,0], [0,1], [1,0], [1,1]];\n      break;\n    case 'lSquare':\n      this.coords = [[0,0], [1,0], [2,0], [0,1], [1,1], [2,1], [0,2], [1,2], [2,2]];\n      break;\n    case 'horizontal2':\n      this.coords = [[0,0], [1,0]];\n      break;\n    case 'horizontal3':\n      this.coords = [[0,0], [1,0], [2,0]];\n      break;\n    case 'horizontal4':\n      this.coords = [[0,0], [1,0], [2,0], [3,0]];\n      break;\n    case 'horizontal5':\n      this.coords = [[0,0], [1,0], [2,0], [3,0], [4,0]];\n      break;\n    case 'vertical2':\n      this.coords = [[0,0], [0,1]];\n      break;\n    case 'vertical3':\n      this.coords = [[0,0], [0,1], [0,2]];\n      break;\n    case 'vertical4':\n      this.coords = [[0,0], [0,1], [0,2], [0,3]];\n      break;\n    case 'vertical5':\n      this.coords = [[0,0], [0,1], [0,2], [0,3], [0,4]];\n      break;\n  }\n};\n\nmodule.exports = Shape;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/lib/shape.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}